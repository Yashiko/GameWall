<!DOCTYPE html>
<html lang="en">

<head>
    <title>Bootstrap Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="time" class="timer"></div>
    <canvas id="myCanvas"></canvas>


    <script>
        //timer
        document.getElementById("time").style.backgroundColor = "yellow";
        document.getElementById("time").style.width = "1400px";
        document.getElementById("time").style.textAlign = "right";
        document.getElementById("time").style.fontSize = "20px";
        var timeLeft = 20;
        var elem = document.getElementById("time");
        var timerId = setInterval(countdown, 1000);
        function countdown() {
            if (timeLeft == 0) {
                clearTimeout(timerId);
                alert("Game Over");
            } else {
                elem.innerHTML = timeLeft + ' seconds left';
                timeLeft--;
            }
        }


        //        document.getElementById("life").style.cssFloat = "left";
        //        var lifeLeft = 3;
        //        var lifeElem = document.getElementById("life");
        //        var LifeId = setInterval(countdownLife, 1000);
        //        function countdownLife(){
        //            if (lifeLeft == 0){
        //                clearTimeout(lifeId);
        //                alert("Game Over");
        //            }else{
        //                lifeElem.innerHTML = lifeLeft + 'life left';
        //                lifeLeft--;
        //            }
        //        }



        var c = document.getElementById("myCanvas");
        var ctx = c.getContext("2d");
        function background() {
            ctx.fillStyle = "darkgreen";
            ctx.fillRect(0, 0, c.width, c.height);
        }

        // valdomas rectange
        var x = 0; // x coord.
        var y = 60; // y coord

        //Creat car
        function drawImg(){
            carImage = new Image();
            carImage.src = "car.gif";
            ctx.drawImage(carImage, x, y, 20, 25);
        }
        window.onkeydown = function (event) {
            var keyPr = event.keyCode; //moving right
            if (keyPr === 39) {
                x += 5;
            } else if (keyPr === 37) { //moving left
                x -= 5;
            } else if (keyPr === 38) {
                y -= 5; //moving top
            } else if (keyPr === 40) {
                y += 5; //moving down
            }
        }

        //creating wall
        function Square(x1, y1, w1, h1) {
            this.x1 = x1;
            this.y1 = y1;
            this.w1 = w1;
            this.h1 = h1;

            //moving
            this.anim = function () {
                if (this.y1 < ctx.canvas.height) {
                    this.y1 += 5;
//                    carImage = new Image();
//            carImage.src = "car.gif";
//            ctx.drawImage(carImage, this.x1, this.y1, this.w1, this.h1);
                    ctx.fillStyle = "brown";
                    ctx.fillRect(this.x1, this.y1, this.w1, this.h1);
                } else this.y1 = -80;
            }
        }

        function init() {
            var rect1 = new Square(50, 0, 10, 50);
            var rect2 = new Square(100, 20, 10, 80);
            var rect3 = new Square(150, 10, 10, 40)
            var rect4 = new Square(200, 60, 10, 70)
            var objects = [rect1, rect2, rect3, rect4];

            // pagr zaidimo veikimas
            setInterval(function () {
                background();               //set background
                drawImg();     // set redRect
                for (var rect in objects) { // sets walls
                    objects[rect].anim();

                }
            }, 50);

        }
        init();






                // var xWall = 50;
                // var yWall = 0;
                // var wWall = 10;
                // var hWall = 60;
                // function drawWall() {
                //     ctx.fillStyle = "black";
                //     ctx.fillRect(xWall, yWall, wWall, hWall);
                // }
                // drawWall(xWall, yWall, wWall, hWall);
                // function move() {
                //     if (yWall == ctx.canvas.height) {
                //         ctx.clearRect(xWall, yWall, wWall, hWall);
                //         yWall = -60;
                //         drawWall(xWall, yWall, wWall, hWall);
                //     } else {
                //         ctx.clearRect(xWall, yWall, wWall, hWall);
                //         yWall += 10;
                //         drawWall(xWall, yWall, wWall, hWall);
                //     }
                // }
                // setInterval(move, 100);
                // var xWall2 = 100;
                // var yWall2 = 10;
                // var wWall2 = 10;
                // var hWall2 = 60;
                // function drawWall2() {
                //     ctx.fillStyle = "black";
                //     ctx.fillRect(xWall2, yWall2, wWall2, hWall2);
                // }
                // drawWall2(xWall2, yWall2, wWall2, hWall2);
                // function move2() {
                //     if (yWall2 == ctx.canvas.height) {
                //         ctx.clearRect(xWall2, yWall2, wWall2, hWall2);
                //         yWall2 = -60;
                //         drawWall2(xWall2, yWall2, wWall2, hWall2);
                //     } else {
                //         ctx.clearRect(xWall2, yWall2, wWall2, hWall2);
                //         yWall2 += 10;
                //         drawWall2(xWall2, yWall2, wWall2, hWall2);
                //     }
                // }
                // setInterval(move2, 50);
    </script>
</body>

</html>
